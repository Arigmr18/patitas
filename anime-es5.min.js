'use strict';(function(k,n){"function"===typeof define&&define.amd?define([],n):"object"===typeof module&&module.exports?module.exports=n():k.anime=n()})(this,function(){function k(a,b){if(a.includes)return a.includes(b);d.array(a)||(a=Array.prototype.slice.call(a));return 0===a.length?!1:a.some(function(a){return a===searchitem})}var n={duration:1E3,delay:0,loop:!1,autoplay:!0,direction:"normal",easing:"easeOutElastic",elasticity:400,round:!1,begin:void 0,update:void 0,complete:void 0},P="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY".split(" "),
d=function(){return{array:Array.isArray,object:function(a){return k(Object.prototype.toString.call(a),"Object")},html:function(a){return a instanceof NodeList||a instanceof HTMLCollection},node:function(a){return a.nodeType},svg:function(a){return a instanceof SVGElement},number:function(a){return!isNaN(parseInt(a))},string:function(a){return"string"===typeof a},func:function(a){return"function"===typeof a},undef:function(a){return"undefined"===typeof a},null:function(a){return"null"===typeof a},
hex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},rgb:function(a){return/^rgb/.test(a)},rgba:function(a){return/^rgba/.test(a)},hsl:function(a){return/^hsl/.test(a)},color:function(a){return d.hex(a)||d.rgb(a)||d.rgba(a)||d.hsl(a)}}}(),A=function(){var a={},b={Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a,b){if(0===a||1===a)return a;b=1-Math.min(b,998)/1E3;a=a/1-1;return-(Math.pow(2,10*a)*Math.sin(2*(a-b/(2*Math.PI)*
Math.asin(1))*Math.PI/b))},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,f=4;a<((b=Math.pow(2,--f))-1)/11;);return 1/Math.pow(4,3-f)-7.5625*Math.pow((3*b-2)/22-a,2)}};["Quad","Cubic","Quart","Quint","Expo"].forEach(function(a,e){b[a]=function(a){return Math.pow(a,e+2)}});Object.keys(b).forEach(function(c){var e=b[c];a["easeIn"+c]=e;a["easeOut"+c]=function(a,b){return 1-e(1-a,b)};a["easeInOut"+c]=function(a,b){return.5>a?e(2*a,b)/2:1-e(-2*a+2,b)/2}});a.linear=function(a){return a};
return a}(),w=function(a){return d.string(a)?a:""+a},B=function(a){return a.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},C=function(a){if(d.color(a))return!1;try{return document.querySelectorAll(a)}catch(b){return!1}},r=function(a){if(d.array(a))return a;d.string(a)&&(a=C(a)||a);return d.html(a)?[].slice.call(a):[a]},u=function(a){return Array.prototype.reduce.call(a,function(a,c){return a.concat(d.array(c)?u(c):c)},[])},Q=function(a,b){var c={};a.forEach(function(a){var f=JSON.stringify(b.map(function(b){return a[b]}));
c[f]=c[f]||[];c[f].push(a)});return Object.keys(c).map(function(a){return c[a]})},D=function(a){return a.filter(function(a,c,e){return e.indexOf(a)===c})},v=function(a){var b={},c;for(c in a)b[c]=a[c];return b},t=function(a,b){for(var c in b)a[c]=d.undef(a[c])?b[c]:a[c];return a},R=function(a){a=a.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(a,b,c,d){return b+b+c+c+d+d});var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);a=parseInt(b[1],16);var c=parseInt(b[2],16),b=parseInt(b[3],16);
return"rgb("+a+","+c+","+b+")"},x=function(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a},l=function(a){return/([\+\-]?[0-9|auto\.]+)(%|px|pt|em|rem|in|cm|mm|ex|pc|vw|vh|deg)?/.exec(a)[2]},F=function(a,b,c){return l(b)?b:k(a,"translate")?l(c)?b+l(c):b+"px":k(a,"rotate")||k(a,"skew")?b+"deg":b},G=function(a,b){if((d.node(a)||d.svg(a))&&k(P,b))return"transform";if((d.node(a)||d.svg(a))&&"transform"!==b&&y(a,b))return"css";if((d.node(a)||d.svg(a))&&(a.getAttribute(b)||
d.svg(a)&&a[b]))return"attribute";if(!d.null(a[b])&&!d.undef(a[b]))return"object"},y=function(a,b){if(b in a.style)return getComputedStyle(a).getPropertyValue(B(b))||"0"},S=function(a,b){var c=k(b,"scale")?1:0;a=a.style.transform;if(!a)return c;for(var e=/(\w+)\((.+?)\)/g,f=[],d=[],E=[];f=e.exec(a);)d.push(f[1]),E.push(f[2]);a=E.filter(function(a,c){return d[c]===b});return a.length?a[0]:c},H=function(a,b){var c=G(a,b);return"transform"===c?S(a,b):"css"===c?y(a,b):"attribute"===c?a.getAttribute(b):
a[b]||0},I=function(a,b,c){if(d.color(b)){if(!d.rgb(b)&&!d.rgba(b))if(d.hex(b))b=R(b);else if(d.hsl(b)){a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(b);b=parseInt(a[1])/360;c=parseInt(a[2])/100;a=parseInt(a[3])/100;if(0===c)c=a=b=a;else{var e=.5>a?a*(1+c):a+c-a*c,f=2*a-e;c=x(f,e,b+1/3);a=x(f,e,b);b=x(f,e,b-1/3)}b="rgb("+255*c+","+255*a+","+255*b+")"}else b=void 0;return b}if(l(b))return b;a=l(a.to)?l(a.to):l(a.from);!a&&c&&(a=l(c));return a?b+a:b},J=function(a){var b=/-?\d*\.?\d+/g;return{original:a,
numbers:w(a).match(b)?w(a).match(b).map(Number):[0],strings:w(a).split(b)}},T=function(a,b,c){return b.reduce(function(b,f,d){return b+a[d-1]+(f?f:c[d-1])})},U=function(a){return(a?u(d.array(a)?a.map(r):r(a)):[]).map(function(a,c){return{target:a,id:c}})},V=function(a,b){var c=[],e;for(e in a)if(!n.hasOwnProperty(e)&&"targets"!==e){var f=d.object(a[e])?v(a[e]):{value:a[e]};f.name=e;c.push(t(f,b))}return c},K=function(a,b,c,e){"transform"===c?(c=a+("("+F(a,b.from,b.to)+")"),b=a+("("+F(a,b.to)+")")):
(a="css"===c?y(e,a):void 0,c=I(b,b.from,a),b=I(b,b.to,a));return{from:J(c),to:J(b)}},W=function(a,b){var c=[];a.forEach(function(e,f){var m=e.target;return b.forEach(function(b){var k=G(m,b.name);if(k){var p;p=b.name;var g=b.value,g=r(d.func(g)?g(m,f):g);p={from:1<g.length?g[0]:H(m,p),to:1<g.length?g[1]:g[0]};g=v(b);g.animatables=e;g.type=k;g.from=K(b.name,p,g.type,m).from;g.to=K(b.name,p,g.type,m).to;g.round=d.color(p.from)||g.round?1:0;g.delay=(d.func(g.delay)?g.delay(m,f,a.length):g.delay)/h.speed;
g.duration=(d.func(g.duration)?g.duration(m,f,a.length):g.duration)/h.speed;c.push(g)}})});return c},X=function(a,b){a=W(a,b);return Q(a,["name","from","to","delay","duration"]).map(function(a){var b=v(a[0]);b.animatables=a.map(function(a){return a.animatables});b.totalDuration=b.delay+b.duration;return b})},z=function(a,b){a.tweens.forEach(function(c){var e=c.from,f=a.duration-(c.delay+c.duration);c.from=c.to;c.to=e;b&&(c.delay=f)});a.reversed=a.reversed?!1:!0},L=function(a){var b=[],c=[];a.tweens.forEach(function(a){if("css"===
a.type||"transform"===a.type)b.push("css"===a.type?B(a.name):"transform"),a.animatables.forEach(function(a){return c.push(a.target)})});return{properties:D(b).join(", "),elements:D(c)}},Y=function(a){var b=L(a);b.elements.forEach(function(a){return a.style.willChange=b.properties})},M=function(a){L(a).elements.forEach(function(a){return a.style.removeProperty("will-change")})},Z=function(a,b){var c=a.path,e=a.value*b,f=function(f){return c.getPointAtLength(1<b?a.value+(f||0):e+(f||0))},d=f(),h=f(-1),
f=f(1),k=a.name;return"translateX"===k?d.x:"translateY"===k?d.y:"rotate"===k?180*Math.atan2(f.y-h.y,f.x-h.x)/Math.PI:void 0},aa=function(a,b){var c=Math.min(Math.max(b-a.delay,0),a.duration)/a.duration;b=a.to.numbers.map(function(b,f){f=a.from.numbers[f];var d=A[a.easing](c,a.elasticity);b=a.path?Z(a,d):f+d*(b-f);return a.round?Math.round(b*a.round)/a.round:b});return T(b,a.to.strings,a.from.strings)},N=function(a,b){var c=void 0;a.time=Math.min(b,a.duration);a.progress=a.time/a.duration*100;a.tweens.forEach(function(a){a.currentValue=
aa(a,b);var e=a.currentValue;a.animatables.forEach(function(b){var d=b.id;switch(a.type){case "css":b.target.style[a.name]=e;break;case "attribute":b.target.setAttribute(a.name,e);break;case "object":b.target[a.name]=e;break;case "transform":c||(c={}),c[d]||(c[d]=[]),c[d].push(e)}})});if(c)for(var e in c)a.animatables[e].target.style.transform=c[e].join(" ");a.settings.update&&a.settings.update(a)},O=function(a){var b={animatables:U(a.targets),settings:t(a,n),time:0,progress:0,running:!1,ended:!1};
b.properties=V(a,b.settings);b.tweens=X(b.animatables,b.properties);b.duration=b.tweens.length?Math.max.apply(Math,b.tweens.map(function(a){return a.totalDuration})):a.duration/h.speed;return b},q=[],h=function(a){var b={},c=O(a);b.tick=function(){if(c.running){c.ended=!1;b.now=+new Date;b.current=b.last+b.now-b.start;N(c,b.current);var a=c.settings;a.begin&&b.current>=a.delay&&(a.begin(c),a.begin=void 0);b.current>=c.duration?(a.loop?(b.start=+new Date,"alternate"===a.direction&&z(c,!0),d.number(a.loop)&&
a.loop--,b.raf=requestAnimationFrame(b.tick)):(c.ended=!0,a.complete&&a.complete(c),c.pause()),b.last=0):b.raf=requestAnimationFrame(b.tick)}};c.seek=function(a){return N(c,a/100*c.duration)};c.pause=function(){c.running=!1;cancelAnimationFrame(b.raf);M(c);var a=q.indexOf(c);-1<a&&q.splice(a,1)};c.play=function(a){a&&(c=t(O(t(a,c.settings)),c));c.pause();c.running=!0;b.start=+new Date;b.last=c.ended?0:c.time;a=c.settings;"reverse"===a.direction&&z(c);"alternate"!==a.direction||a.loop||(a.loop=1);
Y(c);q.push(c);b.raf=requestAnimationFrame(b.tick)};c.restart=function(){c.reversed&&z(c);c.pause();c.seek(0);c.play()};c.settings.autoplay&&c.play();return c};h.speed=1;h.list=q;h.remove=function(a){a=u(d.array(a)?a.map(r):r(a));for(var b,c=q.length-1;0<=c;c--){b=q[c];for(var e,f=b.tweens.length-1;0<=f;f--){e=b.tweens[f];for(var h=e.animatables.length-1;0<=h;h--)k(a,e.animatables[h].target)&&(e.animatables.splice(h,1),e.animatables.length||b.tweens.splice(f,1),b.tweens.length||b.pause())}}};h.easings=
A;h.getValue=H;h.path=function(a){a=d.string(a)?C(a)[0]:a;return{path:a,value:a.getTotalLength()}};h.random=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};h.includes=k;h.cloneObject=v;h.mergeObjects=t;h.flattenArray=u;h.removeArrayDuplicates=M;return h});
